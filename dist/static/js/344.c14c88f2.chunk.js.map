{"version":3,"file":"static/js/344.c14c88f2.chunk.js","mappings":"yLAIMA,EAAQ,0CACZ,WAAYC,GAAO,MASjB,OATiB,gBACjB,cAAMA,IAEDC,MAAQ,CACXC,WAAY,iDAId,EAAKC,cAAgB,EAAKA,cAAcC,MAAK,WAC7C,CACF,CAmBC,OAnBA,qCAED,WAA0B,IAAZC,EAAQ,UAAH,6CAAG,GACpBC,KAAKC,SAAS,CACZL,WAAYG,GAEhB,GASA,+BAMA,WAEEC,KAAKH,cAAc,uBACrB,GAGA,mCACA,WAGE,OAAO,CACT,GAEA,qCACA,SAAwBK,EAAWC,GAEjC,OADAC,QAAQC,IAAI,8DAAqDH,EAAWC,GACrE,IACT,GAEA,gCACA,SAAmBD,EAAWC,EAAWG,GACvCF,QAAQC,IAAI,yBAA0BH,EAAWC,EAAWG,EAK9D,GAAC,kCAED,WACEC,EAAAA,GAAAA,KAAa,oCACf,GAAC,oBAGD,WACE,IAAQX,EAAeI,KAAKL,MAApBC,WACR,EAA8BI,KAAKN,MAA3Bc,EAAK,EAALA,MAAOC,EAAU,EAAVA,WAEf,OACE,uBAAKC,UAAU,aACb,wBACEC,MAAO,CACLC,SAAU,GAAF,OAAM,GAAKJ,EAAS,GAAK,GAAM,GAAKA,EAAM,QAChDZ,GACN,gBAAC,IAAM,CAACiB,QAAS,kBAAMJ,GAAY,GAAE,0DAG3C,IAAC,uCAnDD,SAAgCf,EAAOC,GAErC,OADAS,QAAQC,IAAI,qCAAsCX,GAC3C,CAAEA,MAAAA,EAAOC,MAAAA,EAClB,KAAC,EA9BW,CAASmB,EAAAA,WAuFvB,W","sources":["views/home/subClassCom.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { message, Button } from 'antd';\r\n\r\nclass SubClass extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      statusText: '组件初始未加载...',\r\n      // onceUpdate: false\r\n    };\r\n\r\n    this.setStatusText = this.setStatusText.bind(this);\r\n    // this.setOnceUpdate = this.setOnceUpdate.bind(this);\r\n  }\r\n\r\n  setStatusText(value = '') {\r\n    this.setState({\r\n      statusText: value\r\n    });\r\n  }\r\n  // setOnceUpdate() {\r\n  //   this.setState({\r\n  //     onceUpdate: true\r\n  //   });\r\n  // }\r\n\r\n\r\n  // // 在完成constructor后执行（初始化和更新阶段）\r\n  // // return null 将不会更新\r\n  static getDerivedStateFromProps(props, state) {\r\n    console.log('getDerivedStateFromProps_props: >>', props);\r\n    return { props, state };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // this.setOnceUpdate();\r\n    this.setStatusText('component mounted...');\r\n  }\r\n\r\n  // // return a boolean value to control current update task\r\n  // // first mount or using forceUpdate will escape this hook\r\n  shouldComponentUpdate() {\r\n    // // 控制子组件在完成挂在后不再更新\r\n    // return !this.state.onceUpdate;\r\n    return true;\r\n  }\r\n\r\n  // //更新前快照\r\n  getSnapshotBeforeUpdate(prevProps, prevState) {\r\n    console.log('【getSnapshotBeforeUpdate】prevProps, prevState: >>', prevProps, prevState);\r\n    return null;\r\n  }\r\n\r\n  // // 完成更新\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    console.log('componentDidUpdate: >>', prevProps, prevState, snapshot);\r\n    // // 典型用法（不要忘记比较 props）：\r\n    // if (this.props.userID !== prevProps.userID) {\r\n    //   this.fetchData(this.props.userID);\r\n    // }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    message.info('destoryed the SubClass component ');\r\n  }\r\n\r\n\r\n  render() {\r\n    const { statusText } = this.state;\r\n    const { count, resetCount } = this.props;\r\n\r\n    return (\r\n      <div className=\"sub-class\">\r\n        <span\r\n          style={{\r\n            fontSize: `${(14 + count) > 25 ? 25 : (14 + count)}px`\r\n          }}>{statusText}</span>\r\n        <Button onClick={() => resetCount()}>重置父组件的计数器</Button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n// props类型检查\r\nSubClass.propTypes = {\r\n  count: PropTypes.number,\r\n  resetCount: PropTypes.func\r\n};\r\n\r\nexport default SubClass;\r\n\r\n/**\r\n *  关于react 类组件的生命周期\r\n *   // 挂载阶段\r\n *  1.类组件【constructor】\r\n *  2. static getDerivedStateFromProps()\r\n *  3. render()\r\n *  4. componentDidMount()\r\n *  // 更新阶段\r\n *  1. static getDerivedStateFromProps()\r\n *  2. shouldComponentUpdate()\r\n *  3. render()\r\n *  4. getSnapshotBeforeUpdate()  //更新前快照\r\n *  5. componentDidUpdate() // 完成更新\r\n *\r\n *  // 错误拦截\r\n *  1. static getDerivedStateFromError()\r\n *  2. componentDidCatch()\r\n *\r\n *  // 销毁阶段\r\n *  componentWillUnmount()\r\n */\r\n\r\n"],"names":["SubClass","props","state","statusText","setStatusText","bind","value","this","setState","prevProps","prevState","console","log","snapshot","message","count","resetCount","className","style","fontSize","onClick","Component"],"sourceRoot":""}