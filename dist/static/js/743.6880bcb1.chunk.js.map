{"version":3,"file":"static/js/743.6880bcb1.chunk.js","mappings":"8KA2DA,UAlDiB,WACf,OAAuCA,EAAAA,EAAAA,WAAS,GAAM,eAA/CC,EAAa,KAAEC,EAAa,KAE7BC,EAAmB,WAAmB,IAAlBC,EAAQ,UAAH,8CACR,mBAAVA,GAGXF,EAAcE,EAChB,EAGA,OACE,uBAAKC,UAAU,aACb,gBAAC,IAAK,MAEN,gBAAC,IAAM,CACLC,QAAS,kBAAMH,GAAiB,EAAK,GAAE,gBAGzC,gBAAC,IAAM,CACLI,MAAM,YACNC,MAAO,IACPC,QAASR,EACTS,UAAU,EACVC,cAAc,EACdC,QAAS,kBAAMT,GAAiB,EAAM,EACtCU,OACE,uBAAKC,MAAO,CACVC,QAAS,OACTC,eAAgB,WAChBR,MAAO,SAEP,gBAAC,IAAM,CACLS,KAAK,UACLX,QAAS,kBAAMH,GAAiB,EAAM,GACvC,UACD,gBAAC,IAAM,CACLc,KAAK,UACLH,MAAO,CAAEI,WAAY,QACrBZ,QA9BS,WAAQ,GA+BlB,YAIL,gBAAC,UAAY,OAIrB,C,iNC3Caa,EAAgB,CAC3B,CAAEC,KAAM,SAAUb,MAAO,kCACzB,CAAEa,KAAM,OAAQb,MAAO,cAGZc,GAAeC,EAAAA,EAAAA,IAAW,CACrCC,QAAO,YACLC,EAAAA,EAAAA,IAAc,eAAe,SAACC,EAAOC,GAAS,MAC5CC,QAAQC,IAAI,YAAaF,GAMzBA,EAAKG,cAAc,aAAc,CAACC,OAAkB,QAAX,EAAAL,EAAMK,aAAK,aAAX,EAAaC,gBAAiB,KAGvEL,EAAKM,iBAAiB,CACpBC,SAAU,CAAC,CAAEC,IAAK,MAAOC,IAAK,OAAQ,CAACD,IAAK,MAAOC,IAAK,SAE5D,GACF,IAGWC,GAAcC,EAAAA,EAAAA,IAAkB,CAC3CC,WAAY,CACVC,SAAAA,EAAAA,GACAC,MAAAA,EAAAA,GACAC,OAAAA,EAAAA,GACAC,WAAAA,EAAAA,GACAC,SAAAA,EAAAA,MAISC,EAAkB,CAC7B3B,KAAM,SACN4B,WAAY,CACVC,WAAY,CACV7B,KAAM,SACNV,MAAO,qBACPwC,UAAU,EACV,cAAe,WACf,cAAe,SAEjBC,WAAY,CACV/B,KAAM,SACNV,MAAO,2BACPwC,UAAU,EACV,cAAe,WACf,cAAe,SAEjBd,SAAU,CACRhB,KAAM,QACN,cAAe,WACf,cAAe,aACf,oBAAqB,CACnBgC,WAAY,CAAEC,SAAU,IACxBC,OAAQ,CAAEC,EAAG,SAEfC,MAAO,CACLpC,KAAM,SACN4B,WAAY,CACVS,QAAS,CACPrC,KAAM,OACN,cAAe,oBACf,oBAAqB,CAEnBV,MAAO,gBAETsC,WAAY,CACVU,IAAK,CACHtC,KAAM,OACN,cAAe,sBAIrBuC,QAAS,CACPvC,KAAM,OACN,cAAe,oBACf,oBAAqB,CACnBwC,SAAU,IACVlD,MAAO,UAETsC,WAAY,CACVX,IAAK,CACHjB,KAAM,SACN,cAAe,QACf,cAAe,cAIrByC,QAAS,CACPzC,KAAM,OACN,cAAe,oBACf,oBAAqB,CAEnBwC,SAAU,IACVlD,MAAO,UAETsC,WAAY,CACVV,IAAK,CACHlB,KAAM,SACN,cAAe,QACf,cAAe,cAIrB0C,QAAS,CACP1C,KAAM,OACN,cAAe,oBACf,oBAAqB,CACnBV,MAAO,aACPqD,UAAW,aACXpD,MAAO,IACPqD,MAAO,SAEThB,WAAY,CACViB,KAAM,CACJ7C,KAAM,OACN,cAAe,WACf4B,WAAY,CACVkB,OAAQ,CACN9C,KAAM,OACN,cAAe,qBAEjB+C,SAAU,CACR/C,KAAM,OACN,cAAe,uBAEjBgD,OAAQ,CACNhD,KAAM,OACN,cAAe,2BAQ7B4B,WAAY,CACVqB,IAAK,CACHjD,KAAM,OACN,cAAe,sBACfV,MAAO,gB,+DC5IjB,UAbqB,WAEnB,OADAoB,QAAQC,MAEN,gBAAC,KAAI,CACHF,KAAML,EAAAA,aACN8C,SAAU,EACVC,WAAY,IAEZ,gBAAC,EAAAhC,YAAW,CAACiC,OAAQzB,EAAAA,kBAG3B,C","sources":["views/_component/antdDemo.jsx","views/_component/config.js","views/_component/relationForm.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport {\r\n  Button,\r\n  Drawer,\r\n  Space,\r\n  Text,\r\n} from 'antd';\r\nimport RelationForm from './relationForm';\r\n\r\nconst AntdDemo = () => {\r\n  const [drawerVisible, controlDrawer] = useState(false);\r\n\r\n  const drawerController = (state = false) => {\r\n    if (typeof state !== 'boolean') {\r\n      return;\r\n    }\r\n    controlDrawer(state);\r\n  };\r\n  const handleSubmit = () => { };\r\n\r\n  return (\r\n    <div className=\"antd-demo\">\r\n      <Space>\r\n      </Space>\r\n      <Button\r\n        onClick={() => drawerController(true)}>\r\n        抽屉\r\n      </Button>\r\n      <Drawer\r\n        title='antd demo'\r\n        width={650}\r\n        visible={drawerVisible}\r\n        closable={false}\r\n        maskClosable={false}\r\n        onClose={() => drawerController(false)}\r\n        footer={\r\n          <div style={{\r\n            display: 'flex',\r\n            justifyContent: 'flex-end',\r\n            width: '100%',\r\n          }}>\r\n            <Button\r\n              type=\"default\"\r\n              onClick={() => drawerController(false)}\r\n            >cancel</Button>\r\n            <Button\r\n              type=\"primary\"\r\n              style={{ marginLeft: '10px' }}\r\n              onClick={handleSubmit}\r\n            >submit</Button>\r\n          </div>\r\n        }\r\n      >\r\n        <RelationForm />\r\n      </Drawer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AntdDemo;\r\n","import {\r\n  createForm,\r\n  onFieldChange,\r\n  // onFieldReact,\r\n} from '@formily/core';\r\nimport { createSchemaField } from '@formily/react';\r\nimport {\r\n  FormItem,\r\n  Input,\r\n  Select,\r\n  ArrayTable,\r\n  Editable,\r\n} from '@formily/antd';\r\n\r\nexport const DEFAULT_ITEMS = [\r\n  { name: 'sticky', title: 'sticky粘性布局' },\r\n  { name: 'antd', title: 'antd demo' },\r\n];\r\n\r\nexport const formInstance = createForm({\r\n  effects() {\r\n    onFieldChange('.controller', (field, form) => {\r\n      console.log('field: >>', form);\r\n\r\n      // // formInstance和参数form都可  【对于初始联动，如果字段找不到，setFieldState会将更新推入更新队列，直到字段出现再执行操作】\r\n      // // setFieldState(PATH, {...attr})  联动多个字段：PATH='*(path1, path2...pathn)'\r\n\r\n      // //\r\n      form.setFieldState('controlled', {value: field.value?.toUpperCase() || ''});\r\n      // // arraytable\r\n      // form.setFieldState('arrTable', {value: [{column1: 'aaa', column2: 'bbb'}, {column1: 'AAA', column2: 'BBB'}]});\r\n      form.setInitialValues({\r\n        arrTable: [{ bbb: 'bbb', ccc: 'ccc'}, {bbb: 'BBB', ccc: 'CCC'}]\r\n      });\r\n    });\r\n  }\r\n});\r\n\r\nexport const SchemaField = createSchemaField({\r\n  components: {\r\n    FormItem,\r\n    Input,\r\n    Select,\r\n    ArrayTable,\r\n    Editable,\r\n  },\r\n});\r\n\r\nexport const jsonShemaConfig = {\r\n  type: 'object',\r\n  properties: {\r\n    controller: {\r\n      type: 'string',\r\n      title: '控制者',\r\n      required: true,\r\n      'x-decorator': 'FormItem',\r\n      'x-component': 'Input',\r\n    },\r\n    controlled: {\r\n      type: 'string',\r\n      title: '被控制者',\r\n      required: true,\r\n      'x-decorator': 'FormItem',\r\n      'x-component': 'Input',\r\n    },\r\n    arrTable: {\r\n      type: 'array',\r\n      'x-decorator': 'FormItem',\r\n      'x-component': 'ArrayTable',\r\n      'x-component-props': {\r\n        pagination: { pageSize: 10},\r\n        scroll: { x: '100%' }\r\n      },\r\n      items: {\r\n        type: 'object',\r\n        properties: {\r\n          column1: {\r\n            type: 'void',\r\n            'x-component': 'ArrayTable.Column',\r\n            'x-component-props': {\r\n              // width: 140,\r\n              title: '序号',\r\n            },\r\n            properties: {\r\n              aaa: {\r\n                type: 'void',\r\n                'x-component': 'ArrayTable.Index',\r\n              }\r\n            }\r\n          },\r\n          column2: {\r\n            type: 'void',\r\n            'x-component': 'ArrayTable.Column',\r\n            'x-component-props': {\r\n              minWidth: 140,\r\n              title: 'input1',\r\n            },\r\n            properties: {\r\n              bbb: {\r\n                type: 'string',\r\n                'x-component': 'Input',\r\n                'x-decorator': 'Editable',\r\n              }\r\n            }\r\n          },\r\n          column3: {\r\n            type: 'void',\r\n            'x-component': 'ArrayTable.Column',\r\n            'x-component-props': {\r\n              // width: 140,\r\n              minWidth: 140,\r\n              title: 'input2',\r\n            },\r\n            properties: {\r\n              ccc: {\r\n                type: 'string',\r\n                'x-component': 'Input',\r\n                'x-decorator': 'Editable',\r\n              }\r\n            }\r\n          },\r\n          column4: {\r\n            type: 'void',\r\n            'x-component': 'ArrayTable.Column',\r\n            'x-component-props': {\r\n              title: 'Operations',\r\n              dataIndex: 'operations',\r\n              width: 200,\r\n              fixed: 'right',\r\n            },\r\n            properties: {\r\n              item: {\r\n                type: 'void',\r\n                'x-component': 'FormItem',\r\n                properties: {\r\n                  remove: {\r\n                    type: 'void',\r\n                    'x-component': 'ArrayTable.Remove',\r\n                  },\r\n                  moveDown: {\r\n                    type: 'void',\r\n                    'x-component': 'ArrayTable.MoveDown',\r\n                  },\r\n                  moveUp: {\r\n                    type: 'void',\r\n                    'x-component': 'ArrayTable.MoveUp',\r\n                  },\r\n                },\r\n              },\r\n            },\r\n          }\r\n        }\r\n      },\r\n      properties: {\r\n        add: {\r\n          type: 'void',\r\n          'x-component': 'ArrayTable.Addition',\r\n          title: 'Add entry',\r\n        },\r\n      },\r\n    }\r\n  },\r\n};\r\n","import React from 'react';\r\nimport { Form } from '@formily/antd';\r\nimport { SchemaField, formInstance, jsonShemaConfig } from './config';\r\n\r\nconst RelationForm = () => {\r\n  console.log();\r\n  return (\r\n    <Form\r\n      form={formInstance}\r\n      labelCol={5}\r\n      wrapperCol={16}\r\n    >\r\n      <SchemaField schema={jsonShemaConfig} />\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default RelationForm;\r\n"],"names":["useState","drawerVisible","controlDrawer","drawerController","state","className","onClick","title","width","visible","closable","maskClosable","onClose","footer","style","display","justifyContent","type","marginLeft","DEFAULT_ITEMS","name","formInstance","createForm","effects","onFieldChange","field","form","console","log","setFieldState","value","toUpperCase","setInitialValues","arrTable","bbb","ccc","SchemaField","createSchemaField","components","FormItem","Input","Select","ArrayTable","Editable","jsonShemaConfig","properties","controller","required","controlled","pagination","pageSize","scroll","x","items","column1","aaa","column2","minWidth","column3","column4","dataIndex","fixed","item","remove","moveDown","moveUp","add","labelCol","wrapperCol","schema"],"sourceRoot":""}